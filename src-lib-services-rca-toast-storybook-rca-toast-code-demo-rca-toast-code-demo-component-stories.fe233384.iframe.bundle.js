"use strict";(self.webpackChunk_rca_design_system_library=self.webpackChunk_rca_design_system_library||[]).push([[5306],{"./libs/rca-design-system-library/src/lib/components/rca-notification/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>_rca_notification_module__WEBPACK_IMPORTED_MODULE_1__.c});__webpack_require__("./libs/rca-design-system-library/src/lib/components/rca-notification/rca-notification/composant/rca-notification.component.ts");var _rca_notification_module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/rca-design-system-library/src/lib/components/rca-notification/rca-notification.module.ts")},"./libs/rca-design-system-library/src/lib/services/rca-toast/rca-toast.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>RcaToastModule});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/overlay.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_material_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/rca-design-system-library/src/lib/icons/index.ts"),_components_rca_notification__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/rca-design-system-library/src/lib/components/rca-notification/index.ts"),_rca_toast_rca_toast_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/rca-toast/rca-toast.component.ts"),_service_rca_toast_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/service/rca-toast.service.ts");let RcaToastModule=class RcaToastModule{};RcaToastModule=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.NgModule)({declarations:[_rca_toast_rca_toast_component__WEBPACK_IMPORTED_MODULE_2__.e],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule,_angular_material_icon__WEBPACK_IMPORTED_MODULE_7__.Ps,_icons__WEBPACK_IMPORTED_MODULE_0__.i,_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_8__.U8,_components_rca_notification__WEBPACK_IMPORTED_MODULE_1__.c],providers:[_service_rca_toast_service__WEBPACK_IMPORTED_MODULE_3__.i]})],RcaToastModule)},"./libs/rca-design-system-library/src/lib/services/rca-toast/rca-toast/rca-toast.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>RcaToastComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),overlay=__webpack_require__("./node_modules/@angular/cdk/fesm2022/overlay.mjs"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),timer=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/timer.js");let RcaToastComponent=class RcaToastComponent{overlayRef;toasts=[];DEFAULT_DELAY=1e4;max=6;constructor(overlayRef){this.overlayRef=overlayRef}add(options){this.toasts.length>=this.max&&this.clearOldestToastInStack();const delay=void 0===options.delay?this.DEFAULT_DELAY:options.delay,toast={closeSubject:new Subject.x,options};return this.toasts=[toast,...this.toasts],delay>0&&(toast.delaySubscription=(0,timer.H)(delay).subscribe((()=>{this.removeByToast(toast)}))),{options:toast.options,onClose:toast.closeSubject.asObservable(),close:()=>this.removeByToast(toast)}}removeByIndex(index){this.toasts[index].delaySubscription?.unsubscribe();const closeSubject=this.toasts[index].closeSubject;closeSubject.next(),closeSubject.complete(),this.toasts.splice(index,1),this.toasts.length||this.overlayRef.detach()}removeByToast(toast){const index=this.toasts.indexOf(toast);index>=0&&this.removeByIndex(index)}clearOldestToastInStack(){const index=this.toasts.slice().reverse().findIndex((toast=>toast.delaySubscription));index>=0&&this.removeByIndex(this.toasts.length-1-index)}static ctorParameters=()=>[{type:overlay.Iu}]};RcaToastComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"rca-toast",template:'<div class="padding-right-xxs">\n  <rca-notification\n    *ngFor="let toast of toasts; index as i"\n    config="toast"\n    [title]="toast.options.title"\n    [type]="toast.options.type"\n    (closed)="removeByIndex(i)"\n  >\n    {{ toast.options.message }}\n  </rca-notification>\n</div>\n'}),(0,tslib_es6.w6)("design:paramtypes",[overlay.Iu])],RcaToastComponent)},"./libs/rca-design-system-library/src/lib/services/rca-toast/service/rca-toast.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>RcaToastService});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/overlay.mjs"),_angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/portal.mjs"),_rca_toast_rca_toast_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/rca-toast/rca-toast.component.ts");let RcaToastService=class RcaToastService{overlay;injector;instance;overlayRef;constructor(overlay,injector){this.overlay=overlay,this.injector=injector}add(toast){if(this.resetInstance(),!this.instance){this.overlayRef=this.overlay.create({hasBackdrop:!1,positionStrategy:this.overlay.position().global().bottom().right()});const componentPortal=new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__.C5(_rca_toast_rca_toast_component__WEBPACK_IMPORTED_MODULE_0__.e,null,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injector.create({parent:this.injector,providers:[{provide:_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__.Iu,useValue:this.overlayRef}]}));this.instance=this.overlayRef.attach(componentPortal).instance}return this.instance.add(toast)}resetInstance(){this.instance&&!this.instance.toasts.length&&(this.instance=void 0)}static ctorParameters=()=>[{type:_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__.aV},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injector}]};RcaToastService=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)(),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:paramtypes",[_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__.aV,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injector])],RcaToastService)},"./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-code-demo/rca-toast-code-demo.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>RcaToastCodeDemoComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let RcaToastCodeDemoComponent=class RcaToastCodeDemoComponent{exampleTs1="\n    constructor(private readonly rcaToastService: RcaToastService){}\n    \n    const toast = this.rcaToastService.add({\n      type: 'success',\n      message: 'Je suis un toast de succès',\n      delay: 1200,\n      title: 'Titre'\n    });\n    \n    // évènement de fermeture\n    toast.onclose.subscribe(...)\n    // fermeture du toast\n    toast.close();\n    "};RcaToastCodeDemoComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"rca-toast-code-demo",template:'<h1 class="h3-like secondary-color">Toast</h1>\n<h2 class="margin-top-s h4-like">Code</h2>\n<div>\n  <mat-tab-group class="rca-dsl-tabs">\n    <mat-tab label="Ts">\n      <pre class="caption-font">\n          <code [languages]="[\'typescript\']" [lineNumbers]="true" [highlight]="exampleTs1"></code> </pre>\n    </mat-tab>\n  </mat-tab-group>\n</div>\n\n<div class="card-container padding-s elevation-small">\n  <h2 class="h4-like margin-bottom-xxs">Points importants :</h2>\n  <p>\n    <code>ToastService</code> permet d\'ajouter un toast dans la pile de toast. La méthode\n    <code>add</code> prend en paramètre un objet <code>RcaToastOptions</code> et renvoie un object\n    <code>RcaToast</code>.\n  </p>\n</div>\n'})],RcaToastCodeDemoComponent)},"./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-demo.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>RcaToastDemoComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rca_toast_service=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/service/rca-toast.service.ts");let RcaToastDemoComponent=class RcaToastDemoComponent{toastService;selectedPortal;componentPortal;nombreFermetures=0;toasts=[];constructor(toastService){this.toastService=toastService}showSuccessToaster(){const toast=this.toastService.add({type:"success",message:"Je suis un toast de succès"});this.toasts.push(toast),this.toasts[this.toasts.length-1].onClose.subscribe((()=>this.nombreFermetures++))}showErrorToaster(){const toast=this.toastService.add({type:"error",message:"Je suis un toast d’alert"});this.toasts.push(toast),toast.onClose.subscribe((()=>this.nombreFermetures++))}showWarningToaster(){const toast=this.toastService.add({type:"warning",message:"Je suis un toast d’avertissement Je suis un toast d’avertissementJe suis un toast d’avertissement."});this.toasts.push(toast),toast.onClose.subscribe((()=>this.nombreFermetures++))}showInfoToaster(){const toast=this.toastService.add({type:"info",title:"Information complémentaire",message:"Morbi ac eros eget turpis sodales volutpat sed vel odio. Donec accumsan ante commodo nunc iaculis, sit amet cursus."});this.toasts.push(toast),toast.onClose.subscribe((()=>this.nombreFermetures++))}showInfiniteToast(){const toast=this.toastService.add({type:"info",title:"Information à durée indéterminée",delay:0,message:"Morbi ac eros eget turpis sodales volutpat sed vel odio. Donec accumsan ante commodo nunc iaculis, sit amet cursus."});this.toasts.push(toast),toast.onClose.subscribe((()=>this.nombreFermetures++))}removeLastToast(){this.toasts.pop()?.close()}static ctorParameters=()=>[{type:rca_toast_service.i}]};RcaToastDemoComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"rca-toast-demo",template:'<div class="gridlayout-1 has-layout-gutter gridlayout__all-horizontal-start">\n  <button (click)="showSuccessToaster()">Success</button>\n  <button (click)="showErrorToaster()">Alert</button>\n  <button (click)="showWarningToaster()">Avertissment</button>\n  <button (click)="showInfoToaster()">Info</button>\n  <button (click)="showInfiniteToast()">Durée infinie</button>\n  <button (click)="removeLastToast()">Supprimer le dernier toast</button>\n  <div>Nombre d\'évenements de fermeture : {{ nombreFermetures }}</div>\n</div>\n'}),(0,tslib_es6.w6)("design:paramtypes",[rca_toast_service.i])],RcaToastDemoComponent)},"./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-demo.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>RcaToastDemoModule});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_rca_toast_module__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/rca-toast.module.ts"),_angular_common_http__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_material_tabs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@angular/material/fesm2022/tabs.mjs"),ngx_highlightjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/ngx-highlightjs/fesm2020/ngx-highlightjs.mjs"),_rca_toast_code_demo_rca_toast_code_demo_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-code-demo/rca-toast-code-demo.component.ts"),_rca_toast_demo_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-demo.component.ts"),_storybook_utils_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/storybook-utils/src/index.ts");let RcaToastDemoModule=class RcaToastDemoModule{};RcaToastDemoModule=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.NgModule)({declarations:[_rca_toast_code_demo_rca_toast_code_demo_component__WEBPACK_IMPORTED_MODULE_1__.P,_rca_toast_demo_component__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_rca_toast_code_demo_rca_toast_code_demo_component__WEBPACK_IMPORTED_MODULE_1__.P,_rca_toast_demo_component__WEBPACK_IMPORTED_MODULE_2__.b],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule,_angular_common_http__WEBPACK_IMPORTED_MODULE_7__.JF,_rca_toast_module__WEBPACK_IMPORTED_MODULE_0__.l,_angular_material_tabs__WEBPACK_IMPORTED_MODULE_8__.Nh,ngx_highlightjs__WEBPACK_IMPORTED_MODULE_9__._l],providers:[_storybook_utils_src__WEBPACK_IMPORTED_MODULE_3__.L]})],RcaToastDemoModule)},"./libs/storybook-utils/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>HIGHLIGHT_JS_PROVIDER});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let StorybookUtilsModule=class StorybookUtilsModule{};StorybookUtilsModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[common.CommonModule]})],StorybookUtilsModule);const HIGHLIGHT_JS_PROVIDER={provide:__webpack_require__("./node_modules/ngx-highlightjs/fesm2020/ngx-highlightjs.mjs").rN,useValue:{coreLibraryLoader:()=>__webpack_require__.e(6539).then(__webpack_require__.bind(__webpack_require__,"./node_modules/highlight.js/es/core.js")),lineNumbersLoader:()=>__webpack_require__.e(1544).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/highlightjs-line-numbers.js/src/highlightjs-line-numbers.js",23)),languages:{typescript:()=>__webpack_require__.e(4915).then(__webpack_require__.bind(__webpack_require__,"./node_modules/highlight.js/es/languages/typescript.js")),css:()=>__webpack_require__.e(8554).then(__webpack_require__.bind(__webpack_require__,"./node_modules/highlight.js/es/languages/css.js")),xml:()=>__webpack_require__.e(5188).then(__webpack_require__.bind(__webpack_require__,"./node_modules/highlight.js/es/languages/xml.js"))}}}},"./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-code-demo/rca-toast-code-demo.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Doc:()=>Doc,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_rca_toast_code_demo_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-code-demo/rca-toast-code-demo.component.ts"),_rca_toast_demo_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/rca-design-system-library/src/lib/services/rca-toast/storybook/rca-toast-demo.module.ts"),_storybook_utils_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/storybook-utils/src/index.ts"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Popups/Toast/Doc",component:_rca_toast_code_demo_component__WEBPACK_IMPORTED_MODULE_1__.P,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_rca_toast_demo_module__WEBPACK_IMPORTED_MODULE_2__.Z]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({providers:[(0,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.provideAnimations)(),_storybook_utils_src__WEBPACK_IMPORTED_MODULE_3__.L]})]},Doc=(args=>({component:_rca_toast_code_demo_component__WEBPACK_IMPORTED_MODULE_1__.P,props:args})).bind({});Doc.args={}}}]);